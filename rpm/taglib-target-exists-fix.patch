From: Oleg Antonyan <oleg@example.com>
Date: Fri, 13 Dec 2025 15:55:00 +0100
Subject: [PATCH] OBS-friendly: replace TARGET_EXISTS with classic if(TARGET)

---
 3rdparty/taglib-2.1.1/taglib/CMakeLists.txt | 13 +++++++++++++
 1 file changed, 13 insertions(+), 4 deletions(-)

diff --git a/3rdparty/taglib-2.1.1/taglib/CMakeLists.txt b/3rdparty/taglib-2.1.1/taglib/CMakeLists.txt
index 5f6a2b1..d1e7f3a 100644
--- a/3rdparty/taglib-2.1.1/taglib/CMakeLists.txt
+++ b/3rdparty/taglib-2.1.1/taglib/CMakeLists.txt
@@ -450,11 +450,20 @@ if(ENABLE_STATIC)
   target_compile_definitions(tag PRIVATE TAGLIB_STATIC)
 endif()
 
-target_link_libraries(tag
-  PRIVATE $<IF:$<TARGET_EXISTS:utf8::cpp>,utf8::cpp,$<$<TARGET_EXISTS:utf8cpp>:utf8cpp>>
-          $<$<TARGET_EXISTS:ZLIB::ZLIB>:ZLIB::ZLIB>
-)
+if(TARGET utf8::cpp)
+  target_link_libraries(tag PRIVATE utf8::cpp)
+elseif(TARGET utf8cpp)
+  target_link_libraries(tag PRIVATE utf8cpp)
+endif()
+
+if(TARGET ZLIB::ZLIB)
+  target_link_libraries(tag PRIVATE ZLIB::ZLIB)
+endif()
+

